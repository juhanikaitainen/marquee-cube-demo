!function(){"use strict";var t,e={163:function(){},323:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.MarqueeScreen=void 0;var n=i(285),r=function(){function t(t){this.marqueeDataList=t,this.triggeredIndex=0,this.init()}return t.prototype.init=function(){this.cvs=document.createElement("canvas"),this.ctx=this.cvs.getContext("2d"),this.initMarqueeInstances()},t.prototype.canvasShaper=function(){var t=this;this.marqueeHeights=this.marqueeDataList.map((function(e){return n.Marquee.getMetricData(e,t.cvs.width).actualHeight}));var e=this.marqueeHeights.reduce((function(t,e){return t+e}),0),i=e/(Math.sqrt(3)/2),r=window.devicePixelRatio;this.cvs.height=e*r,this.cvs.width=i*r,this.cvs.style.height=e+"px",this.cvs.style.width=i+"px",this.ctx.scale(r,r)},t.prototype.initMarqueeInstances=function(){var t=this;this.canvasShaper(),this.marqueeInstances=this.marqueeDataList.map((function(e,i){var r=i>0?t.marqueeHeights.filter((function(t,e){return e<=i-1})).reduce((function(t,e){return t+e}),0):0;return new n.Marquee(t.cvs.width,0,r,e,t.ctx)}))},t.prototype.changeMarqueeAtSpecificIndex=function(t,e){var i=this,n=this.marqueeDataList[t],r=Object.assign(n,e);this.marqueeDataList[t]=r,this.canvasShaper(),this.marqueeDataList.forEach((function(t,e){var n=e>0?i.marqueeHeights.filter((function(t,i){return i<=e-1})).reduce((function(t,e){return t+e}),0):0;i.marqueeInstances[e].modify(i.cvs.width,0,n,t)}))},t.prototype.getPointerAtIndex=function(t,e){var i=this,n=this.cvs.height*(1-e),r=window.devicePixelRatio;return this.marqueeHeights.reduce((function(t,e,a){return n>t*r&&(i.triggeredIndex=a),t+e}),0),this.triggeredIndex},t.prototype.pointerAt=function(t,e,i){var n=this;void 0===i&&(i=!1);var r=this.triggeredIndex,a=this.cvs.height*(1-e),o=window.devicePixelRatio;this.marqueeHeights.reduce((function(t,e,i){return a>t*o&&(n.triggeredIndex=i),t+e}),0),i||(this.marqueeInstances[r].triggerPointerOutEvent(),this.marqueeInstances[this.triggeredIndex].triggerPointerInEvent())},t.prototype.triggerCancelPointerEvent=function(){this.marqueeInstances.forEach((function(t){t.triggerPointerOutEvent()}))},t}();e.MarqueeScreen=r},285:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Marquee=void 0;var i=function(){function t(t,e,i,n,r){this.width=t,this.x=e,this.y=i,this.marqueeData=n,this.ctx=r,this.dist=0,this.cvs=this.ctx.canvas,this.init()}return t.setStyle=function(t,e){var i=t.fontSize?t.fontSize:60,n=t.fontFamily?t.fontFamily:"serif",r=t.fontWeight?t.fontWeight:400;e.font="".concat(r," ").concat(i,"px ").concat(n),e.textBaseline="top",e.globalAlpha=t.opacity?t.opacity:1,e.fillStyle=t.color?t.color:"#ff0000"},t.getMetricData=function(e,i){var n=document.createElement("canvas").getContext("2d");t.setStyle(e,n);var r=e.stringTemplate,a=n.measureText(r),o=a.width,s=a.actualBoundingBoxAscent+a.fontBoundingBoxDescent;if(o<i){var c=Math.ceil(i/o);r=e.stringTemplate.repeat(c),o=(a=n.measureText(r)).width}return{actualWidth:o,actualHeight:s,stringTemplate:r}},t.prototype.init=function(){t.setStyle(this.marqueeData,this.ctx),this.syncMetricData(),this.animate()},t.prototype.refresh=function(){this.syncMetricData()},t.prototype.syncMetricData=function(){var e=t.getMetricData(this.marqueeData,this.width);this.actualHeight=e.actualHeight,this.actualWidth=e.actualWidth,this.stringTemplate=e.stringTemplate},t.prototype.animate=function(){if(this.actualHeight&&this.actualWidth&&this.stringTemplate){var e=this.marqueeData.speed?this.marqueeData.speed/10:1;t.setStyle(this.marqueeData,this.ctx),this.ctx.clearRect(this.x,this.y,this.actualWidth,this.actualHeight),this.dist=this.dist+e>=this.actualWidth?0:this.dist+e,this.ctx.fillText(this.stringTemplate,this.x-this.dist,this.y),this.actualWidth-this.dist<=this.width&&this.ctx.fillText(this.stringTemplate,this.x-this.dist+this.actualWidth,this.y),requestAnimationFrame(this.animate.bind(this))}},t.prototype.triggerPointerOutEvent=function(){this.marqueeData.opacity=this.cacheOpacity},t.prototype.triggerPointerInEvent=function(){this.cacheOpacity=this.marqueeData.opacity,this.marqueeData.opacity=.5},t.prototype.modify=function(t,e,i,n){this.marqueeData=n,this.x=e,this.y=i,this.width=t,this.refresh()},t}();e.Marquee=i},715:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.dataListGroup=void 0,e.dataListGroup=[[{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:15},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:15},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:25,fontSize:100,color:"green"},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:20,color:"gray",fontSize:20},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:10,color:"black",fontSize:30},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:6,fontSize:35},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:30,fontSize:40},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:17,color:"black",fontSize:70}],[{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:15},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:25,fontSize:100,color:"purple"},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:20,color:"gray",fontSize:20},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:10,color:"black",fontSize:30},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:6,fontSize:35},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:30,fontSize:40},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:17,color:"black",fontSize:70}],[{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:15},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:25,fontSize:100,color:"blue"},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:20,color:"gray",fontSize:20},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:10,color:"brown",fontSize:30},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:6,fontSize:35},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:30,fontSize:40},{stringTemplate:"我家門前有小河後面有山坡",speed:17,color:"black",fontSize:70}],[{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:15},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:25,fontSize:100,color:"orange"},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:20,color:"gray",fontSize:20},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:10,color:"black",fontSize:30},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:6,fontSize:35},{stringTemplate:"測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試測試",speed:30,fontSize:40},{stringTemplate:"測試測試測試測k試測試測試測試測試測試測試測試測試測試測試測試測試",speed:17,color:"black",fontSize:70}]]},565:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CustomEvent=void 0,e.CustomEvent=function(t,e){var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,!0,!0,e),i}},299:function(t,e,i){var n=i(691),r=i(886),a=i(323),o=i(715),s=i(565),c=function(){function t(t){this.config=t,this.textureAnimationInstances=[],this.pole=new n.Vector2;var e=this.browserCheck();this.container=this.config.container,e?this.ieStrategy():this.init()}return t.prototype.browserCheck=function(){return/MSIE (\d+\.\d+);/.test(navigator.userAgent)||navigator.userAgent.indexOf("Trident/")>-1},t.prototype.ieStrategy=function(){var t=document.createElement("span");t.setAttribute("class","not-supporting-ie"),t.innerHTML="不好意思，這個頁面不支援IE，請您使用其他瀏覽器來進行瀏覽。Sorry but Internet Explorer is NOT Supported here, please try another browser",this.config.container.appendChild(t)},t.prototype.initGeometry=function(){var t=this.config.size*Math.sqrt(6)/4;this.geometry=new n.TetrahedronGeometry(t,0),this.geometry.addGroup(0,3,0),this.geometry.addGroup(3,3,1),this.geometry.addGroup(6,3,2),this.geometry.addGroup(9,3,3),this.geometry.setAttribute("uv",new n.Float32BufferAttribute([0,0,1,0,.5,1,1,0,.5,1,0,0,1,0,.5,1,0,0,0,0,1,0,.5,1],2)),this.geometry.rotateY(-Math.PI)},t.prototype.initTextures=function(){var t=this;this.textures=o.dataListGroup.map((function(e){var i=new a.MarqueeScreen(e);return t.textureAnimationInstances.push(i),i.cvs})).map((function(t){return new n.CanvasTexture(t)}))},t.prototype.initMaterials=function(){this.textures&&(this.materials=this.textures.map((function(t){return new n.MeshBasicMaterial({map:t,transparent:!0})})))},t.prototype.getIntersects=function(t,e){return this.pole.set(2*t.x-1,-2*t.y+1),this.rayCaster.setFromCamera(this.pole,this.camera),this.rayCaster.intersectObjects(e,!1)},t.prototype.bindPointerMove=function(){var t=this,e=this.renderer.domElement,i=function(i,n,r){void 0===r&&(r=!1);var a=function(t,i){var n=e.getBoundingClientRect();return[(t-n.left)/n.width,(i-n.top)/n.height]}(i,n);t.pointer.fromArray(a);var o=t.getIntersects(t.pointer,t.scene.children);if(o.length>0&&o[0].uv){var c=o[0].uv;if(t.intersectFaceIndex!=o[0].faceIndex&&t.intersectFaceIndex&&t.textureAnimationInstances[t.intersectFaceIndex].triggerCancelPointerEvent(),t.intersectFaceIndex=o[0].faceIndex,o[0].object.material.forEach((function(t){t.map.transformUv(c)})),t.textureAnimationInstances[o[0].faceIndex].pointerAt(c.x,c.y,r),r){var h=t.textureAnimationInstances[o[0].faceIndex].getPointerAtIndex(c.x,c.y),u=(0,s.CustomEvent)("marquee-cube-click",{faceIndex:o[0].faceIndex,marqueeIndex:h});t.container.dispatchEvent(u)}}else t.textureAnimationInstances.forEach((function(t){t.triggerCancelPointerEvent()}))};e.addEventListener("mousemove",(function(t){t.preventDefault(),i(t.clientX,t.clientY)})),e.addEventListener("touchmove",(function(t){t.preventDefault(),i(t.touches[0].clientX,t.touches[0].clientY)})),e.addEventListener("click",(function(t){t.preventDefault(),i(t.clientX,t.clientY,!0)})),e.addEventListener("touchstart",(function(t){t.preventDefault(),i(t.touches[0].clientX,t.touches[0].clientY,!0)}))},t.prototype.initRayCaster=function(){this.camera&&this.renderer&&(this.pointer=new n.Vector2,this.bindPointerMove(),this.rayCaster=new n.Raycaster)},t.prototype.initTetrahedron=function(){this.initGeometry(),this.initTextures(),this.initMaterials(),this.Tetrahedron=new n.Mesh(this.geometry,this.materials)},t.prototype.initScene=function(){if(this.scene=new n.Scene,!this.Tetrahedron)return TypeError("Tetrahedron is NOT inited");this.scene.add(this.Tetrahedron)},t.prototype.initCamera=function(){this.camera=new n.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=5},t.prototype.initRenderEnv=function(){this.initCamera(),this.initRenderer()},t.prototype.initRenderer=function(){this.renderer=new n.WebGLRenderer({antialias:!0,alpha:!0}),this.config.container.appendChild(this.renderer.domElement),this.renderer.setClearColor(0,0),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.render(this.scene,this.camera)},t.prototype.init=function(){this.initTetrahedron(),this.initScene(),this.initRenderEnv(),this.initRayCaster(),this.initControl(),this.animate()},t.prototype.initControl=function(){this.control=new r.OrbitControls(this.camera,this.renderer.domElement),this.control.update()},t.prototype.animate=function(){this.textures.forEach((function(t){t.needsUpdate=!0})),this.control.update(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate.bind(this))},t}();window.onload=function(){var t=document.body;new c({container:t,size:4});t.addEventListener("marquee-cube-click",(function(t){var e="點擊到第".concat(t.detail.faceIndex,"面，點擊到第").concat(t.detail.marqueeIndex,"組跑馬燈，請自行依照此數值自行更換資料內容並重新初始化Animation 實例");document.querySelector(".data").innerHTML=e}))}}},i={};function n(t){var r=i[t];if(void 0!==r)return r.exports;var a=i[t]={exports:{}};return e[t].call(a.exports,a,a.exports,n),a.exports}n.m=e,t=[],n.O=function(e,i,r,a){if(!i){var o=1/0;for(h=0;h<t.length;h++){i=t[h][0],r=t[h][1],a=t[h][2];for(var s=!0,c=0;c<i.length;c++)(!1&a||o>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[c])}))?i.splice(c--,1):(s=!1,a<o&&(o=a));s&&(t.splice(h--,1),e=r())}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[i,r,a]},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.j=179,function(){var t={179:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var r,a,o=i[0],s=i[1],c=i[2],h=0;for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(c)var u=c(n);for(e&&e(i);h<o.length;h++)a=o[h],n.o(t,a)&&t[a]&&t[a][0](),t[o[h]]=0;return n.O(u)},i=self.webpackChunkwebpack_playground=self.webpackChunkwebpack_playground||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}(),n.O(void 0,[736],(function(){return n(310)})),n.O(void 0,[736],(function(){return n(299)}));var r=n.O(void 0,[736],(function(){return n(163)}));r=n.O(r)}();